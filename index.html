<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Housing Affordability in Seattle</title>

  <!-- Mapbox GL JS -->
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

  <!-- D3 + C3 for charts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js"></script>

  <link href="css/style.css" rel="stylesheet" />
</head>
<body>

  <!-- NAV BAR -->
  <nav id="navbar">
    <div id="nav-brand">
      <span class="nav-dot"></span>
      Seattle Housing Affordability
    </div>
    <div id="nav-links">
      <a href="landing.html">Home</a>
      <a href="index.html" class="active">Dashboard</a>
      <a href="about.html">About</a>
    </div>
  </nav>

  <!-- MAIN LAYOUT -->
  <div id="container">

    <!-- LEFT PANEL -->
    <div id="info-panel">

      <div id="panel-header">
        <h1>Housing Affordability</h1>
        <p class="subtitle">Seattle, WA &mdash; 2006&ndash;2022</p>
      </div>

      <!-- Stat: current rent burden -->
      <div class="stat-block">
        <p class="stat-label">Rent Burden Rate (2022)</p>
        <div id="burden-count">â€”</div>
        <p class="stat-sub">of renter households paying &gt;50% income on rent</p>
      </div>

      <!-- Layer toggle buttons -->
      <div class="section-label">Map Layer</div>
      <div id="layer-toggles">
        <button class="toggle-btn active" data-layer="mha">MHA Zones</button>
        <button class="toggle-btn" data-layer="category">Zone Category</button>
      </div>

      <!-- Chart 1: Rent burden trend over time -->
      <div class="chart-section">
        <p class="chart-title">Rent Burden Trend (All Renters)</p>
        <div id="trend-chart"></div>
      </div>

      <!-- Chart 2: Rent burden by race -->
      <div class="chart-section">
        <p class="chart-title">Rent Burden by Race &mdash; 2022</p>
        <div id="race-chart"></div>
      </div>

      <!-- Chart 3: Renter households by income category -->
      <div class="chart-section">
        <p class="chart-title">Renter Households by Income Category &mdash; 2022</p>
        <div id="income-chart"></div>
      </div>

      <!-- Description + sources -->
      <div id="description">
        <p>
          This dashboard shows where MHA zoning policy has been applied across Seattle,
          and tracks how rent burden has changed over time and across demographic groups.
          Rent burden is defined as paying more than 50% of income on housing.
        </p>
        <p>Sources:
          <a href="https://catalog.data.gov/dataset/mandatory-housing-affordability-mha-zones-53917" target="_blank">MHA Zones</a> &bull;
          <a href="https://data-seattlecitygis.opendata.arcgis.com/datasets/SeattleCityGIS::rent-burden-greater-than-50/about" target="_blank">Rent Burden</a> &bull;
          <a href="https://data-seattlecitygis.opendata.arcgis.com/datasets/SeattleCityGIS::renter-households-by-income-category/about" target="_blank">Renter Income</a>
        </p>
      </div>

    </div>
    <!-- END LEFT PANEL -->

    <!-- MAP -->
    <div id="map"></div>

    <!-- LEGEND -->
    <div id="legend">
      <h4 id="legend-title">MHA Contribution Level</h4>
      <div id="legend-items">
        <div class="legend-row"><div class="legend-swatch" style="background:#f5a623;"></div> M &mdash; Standard</div>
        <div class="legend-row"><div class="legend-swatch" style="background:#e07b39;"></div> M1 &mdash; Medium</div>
        <div class="legend-row"><div class="legend-swatch" style="background:#c0392b;"></div> M2 &mdash; High</div>
        <div class="legend-row"><div class="legend-swatch" style="background:#4a5568;"></div> No MHA Value</div>
      </div>
      <p class="legend-source">Seattle City GIS / data.gov</p>
    </div>

  </div>
  <!-- END CONTAINER -->

  <script src="js/charts.js"></script>
  <script src="js/map.js"></script>
  <script src="js/panel.js"></script>
</body>
</html>
